// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.205.0/containers/dapr-dotnet
{
	"name": "container-app-demo",
	"dockerFile": "Dockerfile",
	"extensions": [
	  "golang.go",
	  "ms-azuretools.vscode-dapr",
	  "ms-azuretools.vscode-docker",
	  "ms-kubernetes-tools.vscode-kubernetes-tools"
	],
	"mounts": [
	  // Mount docker-in-docker library volume
	  "source=codespaces-linux-var-lib-docker,target=/var/lib/docker,type=volume"
	],
	// Always run image-defined docker-init.sh to enable docker-in-docker
	"overrideCommand": false,
	"remoteUser": "codespace",
	"runArgs": [
	  // Enable ptrace-based debugging for Go in container
	  "--cap-add=SYS_PTRACE",
	  "--security-opt",
	  "seccomp=unconfined",
  
	  // Enable docker-in-docker configuration
	  "--init",
	  "--privileged"
	],
}
